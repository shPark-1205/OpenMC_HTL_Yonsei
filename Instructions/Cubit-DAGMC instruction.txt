## Converting a STEP file to a DAGMC (h5m) file using Coreform Cubit

1. Coreform Cubit Installation
	○ Install Coreform Cubit.
	○ This can be done via a free trial from the official website or by other means.

2. STEP File Preparation
	○ Create the geometry you intend to use for analysis in a CAD program (like CATIA).
	○ Save it as a STEP file.

3. Exporting to h5m in Cubit

3.1. Import and Topology Sharing
    ○ Import the STEP file into Cubit (File → Import).
    ○ In the Command Line, execute the following commands to share topology (this is crucial and should not be skipped):
        - imprint all
        - merge all

3.2. Unit Scaling
    ○ Check Units: STEP files exported from programs like CATIA often default to [mm].
    ○ Cubit does not automatically recognize or convert units. Since the base unit for OpenMC is [cm], you must perform a scale transformation.
    ○ In the Command Line, scale the geometry (e.g., from mm to cm, use a scale factor of 0.1):
        - volume all scale 0.1 about 0 0 0
        Note: If a different pivot point is required, replace 0 0 0 with the desired coordinates.

3.3 Volume Naming
    ○ Ideal: If you named the bodies correctly in the CAD program, they might be imported with those names.
    ○ Recommendation (if names don't transfer): When importing the STEP file, uncheck the 'Import All Names' option.
    ○ Manually assign names to the imported volumes. Check the Volume ID in the Model Tree and use the Command Line:
        - volume [volume ID] name "[Your_Cell_Name]"
        Example: volume 3 name "cell_Breeder"

3.4 Group Creation (Optional but Recommended)
    ○ If multiple volumes share the same material, it's recommended to create a group to pass this information to OpenMC.
    ○ The group name must precisely match the material name defined in your OpenMC input (i.e., name="material_name").
    ○ In the Command Line:
        - group "mat:[Your_Material_Name]" add volume [Your_Corresponding_Volume_List]
        Example: group "mat:He" add volume 3 4 5
        Caution: The material name after mat: must exactly match the name assigned in OpenMC.

3.5 Block Creation
    ○ Blocks are used to define individual bodies for OpenMC.
    ○ In the Command Line:
        - block [block ID] add volume [volume ID] (for a single volume)
        Example: block 1 add volume 1
        Example: block 2 add group 2

3.6 Assign Material to Block
    ○ Specify the material for each block.
    ○ In the Command Line:
        - block [block ID] material "[material name]"
        Example: block 2 material "He"

3.7 Mesh Generation
    ○ Choose one of the following methods to create the mesh:
    ○ Option 1 (Command Line):
        - surface all scheme trimesh
        - mesh surface all
    ○ Recommended Option 2 (GUI):
        - In the right-hand GUI panel, select:
            - Mode: Mesh
            - Entity: Surface
            - Action: Mesh
        - Then manually generate the mesh and make it finer if needed.

3.8 Export
    ○ Go to File → Export and select the DAGMC file extension (.h5m) to complete the conversion.